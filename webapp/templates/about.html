{% extends "base.html"%}
{% block content%}
<div class="container animate-section" style="margin-top: 100px; margin-bottom: 50px;">
    <div class="text-center mb-5">
        <h2 class="heading-glass">About Tytopia AI</h2>
        <p class="lead text-muted">Advanced Text Summarization & RAG Chatbot</p>
    </div>

    <!-- Info Cards Grid -->
    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="glass-card h-100 p-4">
                <div class="icon-box mb-3 text-primary"><i class="fa-solid fa-server fa-2x"></i></div>
                <h4>Architecture</h4>
                <p>Built with <strong>Flask</strong> and <strong>SQLAlchemy</strong>. Upgraded to use <strong>Celery</strong> & <strong>Redis</strong> (Planned) for asynchronous background processing to handle heavy AI workloads without freezing the UI.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card h-100 p-4">
                <div class="icon-box mb-3 text-success"><i class="fa-solid fa-robot fa-2x"></i></div>
                <h4>RAG & AI</h4>
                <p>Advanced <strong>Retrieval-Augmented Generation (RAG)</strong>. Moving from T5 to <strong>LangChain</strong> + <strong>Mistral-7B (GGUF)</strong> and <strong>ChromaDB</strong> for persistent, intelligent document interactions.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card h-100 p-4">
                <div class="icon-box mb-3 text-warning"><i class="fa-solid fa-wand-magic-sparkles fa-2x"></i></div>
                <h4>Experience</h4>
                <p>Designed with a "Glassmorphism" UI using GSAP animations for smooth transitions. Features local PDF summarization and interactive chat history.</p>
            </div>
        </div>
    </div>

    <!-- Team Section -->
    <div class="glass-card p-4 mb-5 mx-auto" style="max-width: 400px;">
        <h3 class="mb-4 text-center">Research Team</h3>
        <div class="text-center">
            {% set team = [
                {'name': 'Ahmed Samir', 'role': 'Full Stack Developer', 'email': 'ahmedsamer6788@gmail.com', 'link': 'https://drive.google.com/drive/u/0/folders/1rR8PseIKDfnAgEscw6UfLx4gKKL7I9MZ'}
            ] %}
            
            {% for member in team %}
            <div class="team-member p-3">
               
                <h5>{{ member.name }}</h5>
                <p class="small text-muted mb-2">{{ member.role }}</p>
                <div class="social-links">
                    <a href="{{ member.link }}" target="_blank" class="text-primary me-2"><i class="fa-brands fa-linkedin fa-lg"></i></a>
                    <a href="mailto:{{ member.email }}" class="text-danger"><i class="fa-solid fa-envelope fa-lg"></i></a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Feedback Section -->
    <div class="glass-card p-4 mx-auto" style="max-width: 600px;">
        <h3 class="text-center mb-3">We Value Your Feedback</h3>
        <form id="feedbackForm" method="post">
            <div class="mb-3">
                <textarea id="feadback" name="feadback" class="form-control glass-input" rows="4" placeholder="Tell us what you think..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100 rounded-pill">Submit Feedback</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", (event) => {
        // Scroll-triggered animations (more reliable than entrance animations)
        gsap.registerPlugin(ScrollTrigger);
        
        // Animate heading on load (simple fade-in, no opacity issues)
        gsap.to(".heading-glass", {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: "power2.out"
        });
        
        // Animate cards on scroll
        gsap.utils.toArray(".glass-card").forEach((card, index) => {
            gsap.from(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top 85%",
                    toggleActions: "play none none none"
                },
                y: 50,
                opacity: 0,
                duration: 0.6,
                delay: index * 0.1,
                ease: "power2.out"
            });
        });

        const feedbackForm = document.getElementById('feedbackForm');
        if (feedbackForm) {
            feedbackForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                
                fetch('/about', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if (response.ok) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Thank You!',
                            text: 'Your feedback has been submitted successfully.',
                            confirmButtonColor: '#6c5ce7',
                            timer: 3000
                        });
                        feedbackForm.reset();
                    } else {
                        throw new Error('Failed to submit feedback');
                    }
                })
                .catch(error => {
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'Something went wrong. Please try again later.',
                        confirmButtonColor: '#6c5ce7'
                    });
                });
            });
        }
    });
</script>
{% endblock content%}